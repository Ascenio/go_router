# Transitions

TODO:

 wrap your screen widget in
the `MaterialPage` object and `CupertinoApp` will use `CupertinoPage`. Each page
must have a unique key, so go_router will use the key passed in via the `state`
object passed to the `builder` function (and described below).

If you'd like to use create the app-type-appropriate page yourself, perhaps to
use a custom key or to control the other default parameters of the page, you can
implement the `pageBuilder` function instead, e.g.

```dart
GoRoute(
  path: '/page2',
  pageBuilder: (context, state) => MaterialPage<void>(
    key: state.pageKey,
    restorationId: state.pageKey.value,
    child: const Page2Screen(),
  ),
),
```

In fact, this implementation of `pageBuilder` is just what you'll get if you use
the `builder`. The `pageBuilder` function is also useful if you'd like to [set a
custom transition](/transitions) for a particular route.


TODO:


You can read more about [sub-routes](/sub-routes) and
 but the `pageBuilder` snippet code above
uses the `pageKey` property. The `pageKey` is used to create a unique key for
the `MaterialPage` or `CupertinoPage` based on the current path for that page in
the [stack of pages](/sub-routes), so it will uniquely identify the page w/o
having to hardcode a key or come up with one yourself.


TODO:


In the same way that you can use a `pageBuilder` instead of a `builder` if you'd
like to have full control of the page that's being created, you can use the 
`errorPageBuilder` instead of the `errorBuilder`:

```dart
class App extends StatelessWidget {
  ...
  final _router = GoRouter(
    ...
    errorPageBuilder: (context, state) => MaterialPage<void>(
      key: state.pageKey,
      child: ErrorScreen(state.error),
    ),
  );
}
```







As you transition between routes, you get transitions based on whether
you're using `MaterialPage` or `CupertinoPage`; each of them implements the
transitions as defined by the underlying platform. However, if you'd like to
implement a custom transition, you can do so by using the `CustomTransitionPage`
provided with go_router:

```dart
GoRoute(
  path: '/fade',
  pageBuilder: (context, state) => CustomTransitionPage<void>(
    key: state.pageKey,
    child: const TransitionsPage(kind: 'fade', color: Colors.red),
    transitionsBuilder: (context, animation, secondaryAnimation, child) =>
        FadeTransition(opacity: animation, child: child),
  ),
),
```

The `transitionBuilder` argument to the `CustomTransitionPage` is called when
you're routing to a new route, and it's your chance to return a transition
widget. The [transitions
sample](https://github.com/csells/go_router/blob/master/example/lib/transitions.dart)
shows off four different kind of transitions, but really you can do whatever you
want.

![custom transitions example](https://raw.githubusercontent.com/csells/go_router/master/readme/transitions.gif)

The `CustomTransitionPage` constructor also takes a `transitionsDuration`
argument in case you'd like to customize the duration of the transition as well
(it defaults to 300ms).
